<template>
  <div class="landing">
    <header class="top-bar">
      <div class="brand" @click="triggerChat">
        <span class="logo">ğŸ¥˜</span>
        <div class="text">
          <h1>GustoBot</h1>
          <p>æ™ºèƒ½èœè°±çŸ¥è¯†åŠ©ç†</p>
        </div>
      </div>
      <nav class="nav-links">
        <a href="#features">åŠŸèƒ½äº®ç‚¹</a>
        <a href="#workflow">å·¥ä½œæµç¨‹</a>
        <a href="#datasets">æ•°æ®æº</a>
        <a href="#faq">å¸¸è§é—®é¢˜</a>
      </nav>
      <button class="cta" type="button" @click="triggerChat">ç«‹å³å¯¹è¯</button>
    </header>

    <main class="content">
      <section class="hero">
        <div class="headline">
          <div class="headline-badge">
            <span class="spark">âœ¨</span>
            å¤šæºçŸ¥è¯† Â· æ™ºèƒ½æ£€ç´¢ Â· å®æ—¶å¼•ç”¨
          </div>
          <h2>å…¨å¤©å€™ <span>èœè°±é¡¾é—®</span>ï¼Œæ‡‚å…¸æ•…æ›´æ‡‚é£Ÿæ</h2>
          <p>
            æ¥å…¥èœè°±å†å²ã€å…¸æ•…ã€åŸæ–™çŸ¥è¯†ã€æ–‡ä»¶è§£æç­‰èƒ½åŠ›ï¼Œç»“åˆæ™ºèƒ½è·¯ç”±ä¸ rerank æœºåˆ¶ï¼Œç§’çº§è¿”å›å¯ä¿¡ã€æœ‰æ®å¯æŸ¥çš„ç­”æ¡ˆã€‚
          </p>
          <div class="hero-actions">
            <button class="primary" type="button" @click="triggerChat">å¼€å§‹æ–°å¯¹è¯</button>
            <button class="secondary" type="button" @click="triggerChat">ä¸Šä¼ èµ„æ–™è¯•è¯•</button>
          </div>
          <ul class="hero-meta">
            <li>
              <div class="icon-circle">ğŸ“š</div>
              <div>
                <span class="value">8+</span>
                <span class="label">ç»“æ„åŒ–æ•°æ®è¡¨</span>
              </div>
            </li>
            <li>
              <div class="icon-circle">ğŸ§ </div>
              <div>
                <span class="value">39</span>
                <span class="label">Milvus å‘é‡ç¯‡ç« </span>
              </div>
            </li>
            <li>
              <div class="icon-circle">ğŸ› ï¸</div>
              <div>
                <span class="value">5</span>
                <span class="label">æ™ºèƒ½è·¯ç”±å·¥å…·</span>
              </div>
            </li>
          </ul>
        </div>
        <div class="hero-card">
          <div class="card-header">
            <span class="badge">çŸ¥è¯†åº“å·¥ä½œæµ</span>
            <span class="status online">Postgres Â· æ­£å¸¸</span>
          </div>
          <div class="card-body">
            <article class="sample">
              <h3><span>ğŸ“Œ</span> ç¤ºä¾‹é—®é¢˜</h3>
              <ul>
                <li>ä½›è·³å¢™çš„å†å²å…¸æ•…æ˜¯ä»€ä¹ˆï¼Ÿ</li>
                <li>é’è’œå’Œè’œè‹—æœ‰å“ªäº›è¥å…»å·®å¼‚ï¼Ÿ</li>
                <li>æ€»ç»“ä¸Šä¼ æ–‡æ¡£ä¸­çš„èœè°±äº®ç‚¹ã€‚</li>
              </ul>
            </article>
            <div class="divider"></div>
            <article class="pipeline">
              <h3><span>ğŸ§­</span> å½“å‰è·¯ç”±</h3>
              <ol>
                <li><span class="step">1</span> Router åˆ†ç±»ï¼škb-query</li>
                <li><span class="step">2</span> Postgres ç›¸ä¼¼æ£€ç´¢</li>
                <li><span class="step">3</span> Rerank ç²¾æ’ & å¼•ç”¨ç”Ÿæˆ</li>
              </ol>
            </article>
          </div>
          <footer class="card-footer">
            <span>ğŸ”„ è‡ªåŠ¨å…œåº•ï¼šMilvus Â· Rerank â‰¥ 0.8</span>
            <span>ğŸ“ æ”¯æŒæ–‡ä»¶é—®ç­”ã€å›¾è°±æ£€ç´¢</span>
          </footer>
        </div>
      </section>

      <section id="features" class="feature-grid">
        <article class="feature-card">
          <div class="feature-icon">ğŸ§ </div>
          <h3>å¤šè·¯ç”±æ™ºèƒ½ä½“</h3>
          <p>è‡ªåŠ¨é€‰æ‹©çŸ¥è¯†åº“ã€å›¾è°±ã€æ–‡ä»¶è§£æã€Text2SQL ç­‰å·¥å…·ï¼Œå›ç­”å‡†ç¡®é«˜æ•ˆã€‚</p>
        </article>
        <article class="feature-card">
          <div class="feature-icon">ğŸ“‘</div>
          <h3>å¯ä¿¡å¼•ç”¨</h3>
          <p>å›ç­”é™„å¸¦æ¥æº documentIdã€scoreï¼Œæ–¹ä¾¿å¤æ ¸ä¸è¿½è¸ªã€‚</p>
        </article>
        <article class="feature-card">
          <div class="feature-icon">âš¡</div>
          <h3>å¿«é€Ÿæ¥å…¥</h3>
          <p>REST APIã€æ–‡ä»¶ä¸Šä¼ ã€LLM æç¤ºè¯ä¸€ä½“åŒ–ï¼Œè½»æ¾èå…¥ä¸šåŠ¡åœºæ™¯ã€‚</p>
        </article>
        <article class="feature-card">
          <div class="feature-icon">ğŸ§©</div>
          <h3>å¼¹æ€§æ‰©å±•</h3>
          <p>Docker Compose ä¸€é”®éƒ¨ç½²ï¼Œè‡ªåŠ¨å¯¼å…¥ Excelã€Milvusã€pgvector æ•°æ®ã€‚</p>
        </article>
      </section>

      <section id="workflow" class="workflow">
        <h3>çŸ¥è¯†åº“å·¥ä½œæµ</h3>
        <div class="timeline">
          <div class="node">
            <span class="dot"></span>
            <div>
              <h4>æŸ¥è¯¢åˆ†ç±»</h4>
              <p>Router ç»“åˆ LLM + å…³é”®è¯å¯å‘ï¼Œåˆ¤æ–­æ˜¯ KB / Graph / Text2SQL / æ–‡ä»¶å¤„ç†ã€‚</p>
            </div>
          </div>
          <div class="node">
            <span class="dot"></span>
            <div>
              <h4>Postgres ä¼˜å…ˆ</h4>
              <p>pgvector é‡‡ç”¨ç›¸ä¼¼åº¦ â‰¥ 0.5 ä¸” rerank â‰¥ 0.8ï¼Œå‘½ä¸­åç›´æ¥è¿”å›ç»“æœã€‚</p>
            </div>
          </div>
          <div class="node">
            <span class="dot"></span>
            <div>
              <h4>Milvus å…œåº•</h4>
              <p>é™é˜ˆå€¼ç²—å¬å›ï¼Œrerank â‰¥ 0.8 æ–¹å¯å‘ˆç°ï¼Œä¿è¯è¦†ç›–ç‡ä¸å‡†ç¡®åº¦å…¼é¡¾ã€‚</p>
            </div>
          </div>
        </div>
      </section>

      <section id="datasets" class="datasets">
        <h3>æ•°æ®æºæ¦‚è§ˆ</h3>
        <ul>
          <li><strong>PostgreSQLï¼š</strong> Excel å¯¼å…¥çš„å†å²èœè°±è¡¨ã€searchable_documentsï¼ˆ8 æ¡ç»“æ„åŒ–æ•°æ®ï¼‰ã€‚</li>
          <li><strong>Milvusï¼š</strong> data.txt åˆ‡ç‰‡å‘é‡ï¼ˆ39 ç¯‡ï¼‰ï¼Œæ”¯æŒ rerank ç²¾æ’ã€‚</li>
          <li><strong>Neo4jï¼š</strong> 19,655 ä¸ªèœå“èŠ‚ç‚¹ + 188,338 æ¡æ­¥éª¤å…³ç³»ï¼Œæ”¯æ’‘å›¾è°±é—®ç­”ã€‚</li>
        </ul>
      </section>

      <section id="faq" class="faq">
        <h3>å¸¸è§é—®é¢˜</h3>
        <details>
          <summary>å¦‚ä½•æ¥å…¥æˆ‘çš„ä¸šåŠ¡ç³»ç»Ÿï¼Ÿ</summary>
          <p>é€šè¿‡ `/api/v1/chat` ä¸ `/api/v1/upload/file` å®Œæˆå¯¹è¯ã€æ–‡ä»¶é—®ç­”æ¥å…¥ï¼Œæ”¯æŒ session ç®¡ç†ã€‚</p>
        </details>
        <details>
          <summary>çŸ¥è¯†åº“æ•°æ®å¤šä¹…æ›´æ–°ä¸€æ¬¡ï¼Ÿ</summary>
          <p>Excel / data.txt æ”¹åŠ¨åé‡æ–°æ„å»ºå®¹å™¨å³å¯è‡ªåŠ¨å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥è¿è¡Œè„šæœ¬æ‰‹åŠ¨åˆ·æ–°ã€‚</p>
        </details>
        <details>
          <summary>æ˜¯å¦æ”¯æŒå›¾è°±ã€Text2SQL ç­‰è‡ªå®šä¹‰å·¥å…·ï¼Ÿ</summary>
          <p>Router é¢„ç½® GraphRAGã€Text2SQLã€æ–‡ä»¶è§£æç­‰å·¥å…·ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ‰©å±•ã€‚</p>
        </details>
      </section>
    </main>
  </div>
</template>

<script setup lang="ts">
const emit = defineEmits<{ (e: "start-chat"): void }>();

function triggerChat() {
  emit("start-chat");
}
</script>

<style scoped lang="scss">
.landing {
  min-height: 100vh;
  background: linear-gradient(180deg, #fff7ed 0%, #fff 55%);
  color: #3f3d56;
  padding-bottom: 120px;
}

.top-bar {
  position: sticky;
  top: 0;
  z-index: 50;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
  padding: 18px 6vw;
  background: rgba(255, 247, 237, 0.88);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(249, 115, 22, 0.15);
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;

  .logo {
    font-size: 32px;
  }

  .text {
    h1 {
      margin: 0;
      font-size: 22px;
      font-weight: 700;
      color: #ea580c;
    }

    p {
      margin: 0;
      font-size: 13px;
      color: #f97316;
      opacity: 0.85;
    }
  }
}

.nav-links {
  display: flex;
  gap: 18px;
  font-size: 14px;

  a {
    color: #9a3412;
    text-decoration: none;
    font-weight: 600;
    position: relative;

    &:after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -6px;
      width: 100%;
      height: 2px;
      background: linear-gradient(135deg, #f97316, #ef4444);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.2s ease;
    }

    &:hover:after {
      transform: scaleX(1);
    }
  }
}

.cta {
  border: none;
  border-radius: 999px;
  padding: 10px 20px;
  background: linear-gradient(135deg, #f97316, #ef4444);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 12px 24px rgba(239, 68, 68, 0.25);
  transition: transform 0.2s ease;

  &:hover {
    transform: translateY(-2px);
  }
}

.content {
  max-width: 1100px;
  margin: 0 auto;
  padding: 60px 6vw 0;
  display: flex;
  flex-direction: column;
  gap: 72px;
}

.hero {
  position: relative;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 32px;
  align-items: stretch;
}

.headline {
  display: flex;
  flex-direction: column;
  gap: 24px;

  .headline-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(249, 115, 22, 0.15);
    color: #b45309;
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 600;

    .spark {
      font-size: 14px;
    }
  }

  h2 {
    margin: 0;
    font-size: clamp(28px, 3.2vw, 42px);
    font-weight: 700;
    color: #1f2937;

    span {
      color: #ea580c;
    }
  }

  p {
    margin: 0;
    font-size: 15px;
    line-height: 1.7;
    color: #4b5563;
  }
}

.hero-actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;

  button {
    border: none;
    padding: 12px 20px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
  }

  .primary {
    background: linear-gradient(135deg, #f97316, #ef4444);
    color: #fff;
    box-shadow: 0 14px 24px rgba(239, 68, 68, 0.25);
  }

  .secondary {
    background: #fff;
    color: #f97316;
    border: 1px solid rgba(249, 115, 22, 0.3);
  }
}

.hero-meta {
  display: flex;
  gap: 18px;
  flex-wrap: wrap;
  list-style: none;
  margin: 0;
  padding: 0;

  li {
    background: rgba(255, 247, 237, 0.82);
    border: 1px solid rgba(249, 115, 22, 0.2);
    border-radius: 12px;
    padding: 12px 16px;
    min-width: 140px;
    display: flex;
    align-items: center;
    gap: 10px;

    .icon-circle {
      width: 38px;
      height: 38px;
      border-radius: 14px;
      background: rgba(249, 115, 22, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #b45309;
    }

    .value {
      font-size: 22px;
      font-weight: 700;
      color: #ea580c;
    }

    .label {
      display: block;
      font-size: 12px;
      color: #9a3412;
    }
  }
}

.hero-card {
  background: radial-gradient(circle at top, rgba(255, 255, 255, 0.92), #fff8f1 60%);
  border-radius: 20px;
  border: 1px solid rgba(249, 115, 22, 0.25);
  box-shadow: 0 24px 48px rgba(249, 115, 22, 0.15);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 18px 20px;
  background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(239, 68, 68, 0.1));
  color: #9a3412;
  font-weight: 600;

  .badge {
    padding: 6px 12px;
    border-radius: 999px;
    background: rgba(249, 115, 22, 0.15);
  }

  .status {
    font-size: 12px;

    &.online::before {
      content: "";
      display: inline-block;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #22c55e;
      margin-right: 6px;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.15);
    }
  }
}

.card-body {
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.sample,
.pipeline {
  h3 {
    margin: 0 0 10px;
    font-size: 14px;
    color: #9a3412;

    span {
      margin-right: 6px;
    }
  }

  ul,
  ol {
    margin: 0;
    padding-left: 20px;
    font-size: 13px;
    color: #4b5563;
    line-height: 1.6;
  }

  .step {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: rgba(249, 115, 22, 0.2);
    color: #9a3412;
    font-size: 11px;
    margin-right: 6px;
  }
}

.divider {
  height: 1px;
  background: rgba(249, 115, 22, 0.25);
}

.card-footer {
  padding: 16px 20px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 12px;
  color: #9a3412;
  background: rgba(249, 115, 22, 0.1);
}

.feature-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 18px;
}

.feature-card {
  padding: 20px;
  border-radius: 16px;
  background: #fff;
  border: 1px solid rgba(249, 115, 22, 0.2);
  box-shadow: 0 18px 36px rgba(249, 115, 22, 0.08);
  display: flex;
  flex-direction: column;
  gap: 10px;

  .feature-icon {
    width: 42px;
    height: 42px;
    border-radius: 14px;
    background: rgba(249, 115, 22, 0.18);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: #b45309;
  }

  h3 {
    margin: 0 0 8px;
    font-size: 16px;
    color: #9a3412;
  }

  p {
    margin: 0;
    font-size: 13px;
    line-height: 1.6;
    color: #4b5563;
  }
}

.workflow {
  background: #fffdfb;
  border-radius: 20px;
  border: 1px solid rgba(249, 115, 22, 0.2);
  box-shadow: 0 18px 42px rgba(249, 115, 22, 0.1);
  padding: 28px;

  h3 {
    margin: 0 0 18px;
    font-size: 18px;
    color: #9a3412;
  }
}

.timeline {
  display: grid;
  gap: 18px;
}

.node {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 12px;
  align-items: flex-start;
  color: #4b5563;

  .dot {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: radial-gradient(circle at center, #f97316 0%, #ef4444 70%);
    box-shadow: 0 0 0 6px rgba(249, 115, 22, 0.15);
    margin-top: 6px;
  }

  h4 {
    margin: 0 0 6px;
    font-size: 15px;
    color: #9a3412;
  }

  p {
    margin: 0;
    font-size: 13px;
    line-height: 1.6;
  }
}

.datasets {
  background: #fff;
  border-radius: 20px;
  padding: 26px;
  border: 1px solid rgba(249, 115, 22, 0.18);
  box-shadow: 0 16px 36px rgba(249, 115, 22, 0.08);

  h3 {
    margin: 0 0 12px;
    font-size: 18px;
    color: #9a3412;
  }

  ul {
    margin: 0;
    padding-left: 20px;
    color: #4b5563;
    line-height: 1.7;
  }
}

.faq {
  background: #fffdfb;
  border-radius: 20px;
  border: 1px solid rgba(249, 115, 22, 0.18);
  box-shadow: 0 14px 32px rgba(249, 115, 22, 0.08);
  padding: 24px;
  display: grid;
  gap: 12px;

  h3 {
    margin: 0;
    font-size: 18px;
    color: #9a3412;
  }

  details {
    background: rgba(255, 247, 237, 0.6);
    border: 1px solid rgba(249, 115, 22, 0.18);
    border-radius: 12px;
    padding: 12px 16px;
    font-size: 13px;
    color: #4b5563;

    summary {
      cursor: pointer;
      font-weight: 600;
      color: #9a3412;
    }

    p {
      margin: 8px 0 0;
      line-height: 1.6;
    }
  }
}

@media (max-width: 768px) {
  .top-bar {
    flex-wrap: wrap;
    gap: 16px;
  }

  .nav-links {
    width: 100%;
    justify-content: center;
    flex-wrap: wrap;
    gap: 12px;
  }

  .cta {
    width: 100%;
  }

  .hero-card {
    order: -1;
  }
}
</style>
