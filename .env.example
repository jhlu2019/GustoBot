# GustoBot 环境配置示例
# 复制此文件为 .env 并填入实际配置

# 应用配置
APP_NAME=GustoBot
APP_VERSION=0.1.0
DEBUG=True

# API配置
API_V1_PREFIX=/api/v1
HOST=0.0.0.0
PORT=8000

# OpenAI配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1
OPENAI_MODEL=gpt-4-turbo-preview

# Anthropic配置
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-opus-20240229

# 视觉模型配置（用于图像分析）
VISION_API_KEY=your_vision_api_key_here
VISION_BASE_URL=https://api.openai.com/v1
VISION_MODEL=gpt-4-vision-preview

# Milvus向量数据库配置
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_COLLECTION=recipes
MILVUS_INDEX_TYPE=IVF_FLAT
MILVUS_METRIC_TYPE=IP

# OpenAI Embedding配置
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSION=1536

# Reranker配置 (API-based)
# 支持的provider: cohere, jina, voyage, bge
RERANKER_PROVIDER=cohere
RERANKER_API_KEY=your_reranker_api_key_here
RERANKER_MODEL=
# BGE provider需要指定API URL (例如智谱AI、硅基流动等)
RERANKER_API_URL=
RERANKER_TOP_K=5

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_EXPIRE=43200
REDIS_CACHE_THRESHOLD=0.92
REDIS_CACHE_MAX_SIZE=1000

# LightRAG配置
LIGHTRAG_WORKING_DIR=./data/lightrag
LIGHTRAG_RETRIEVAL_MODE=hybrid
LIGHTRAG_TOP_K=10
LIGHTRAG_MAX_TOKEN_SIZE=4096
LIGHTRAG_ENABLE_NEO4J=True
LIGHTRAG_ENABLE_MILVUS=False

# LightRAG 构建时初始化配置（Docker）
INIT_LIGHTRAG_ON_BUILD=true   # true=构建时初始化，false=跳过
LIGHTRAG_INIT_LIMIT=         # 留空=全部菜谱，10=快速测试

# 数据库配置
DATABASE_URL=sqlite:///./data/gustobot.db

# Neo4j 配置
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=recipepass
NEO4J_DEFAULT_GRAPH_QUERY=MATCH (a)-[r]-(b) RETURN a, r, b LIMIT 100

# Agent配置
MAX_ITERATIONS=10
AGENT_TIMEOUT=300

# 知识库配置
KB_TOP_K=5
KB_SIMILARITY_THRESHOLD=0.7
KB_CHUNK_SIZE=512
KB_CHUNK_OVERLAP=80

# 外部数据接入服务（test 目录 FastAPI，可选）
# 设置后，create_query/file_query 会调用该服务的 /api/ingest/excel
# 例如： http://localhost:8000
INGEST_SERVICE_URL=

# 本地文件接入的最大体积（MB），仅用于本地导入路径
FILE_UPLOAD_MAX_MB=2

# 是否允许联网检索（SerpAPI）
ENABLE_EXTERNAL_SEARCH=false
KB_ENABLE_EXTERNAL_SEARCH=false

# 对话历史配置
CONVERSATION_HISTORY_TTL=259200
CONVERSATION_HISTORY_MAX_MESSAGES=200

# CORS配置（逗号分隔）
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Ollama配置
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
